import{s as te,r as ue,c as F,h as J,p as ce}from"../chunks/scheduler.y4uHs2UB.js";import{S as se,i as ne,e as y,s as V,c as W,f as T,g as S,n as D,h,a as A,j as g,B as M,k as E,y as w,D as Q,m as U,l as B,t as I,b as C,d as K,u as X,v as G,w as H,p as ie,q as ae}from"../chunks/index.Cysm1UDV.js";import{s as j,u as fe}from"../chunks/settings.D2QZNL8x.js";import{t as le}from"../chunks/translations.BVElcgx8.js";import{customInstanceWarning as ge}from"../chunks/safety-warning.Bw3vsJXK.js";import{X as pe}from"../chunks/x.BN7WJZWw.js";import{a as me}from"../chunks/CopyIcon.Do4DS5DO.js";import{S as Y,a as re}from"../chunks/SettingsCategory.CtbTqUah.js";function Z(i){let e,s;return{c(){e=y("span"),s=X(i[2]),this.h()},l(t){e=T(t,"SPAN",{class:!0,"aria-hidden":!0});var r=S(e);s=G(r,i[2]),r.forEach(h),this.h()},h(){g(e,"class","input-placeholder svelte-lnziow"),g(e,"aria-hidden","true")},m(t,r){E(t,e,r),w(e,s)},p(t,r){r&4&&H(s,t[2])},d(t){t&&h(e)}}}function _e(i){let e,s,t,r,n,c,p,f,a,l,o,_,d,$,N,z,k,L,O,b=i[6].length===0&&Z(i);return a=new me({}),$=new pe({}),{c(){e=y("div"),s=y("div"),t=y("input"),n=V(),b&&b.c(),c=V(),p=y("div"),f=y("button"),W(a.$$.fragment),_=V(),d=y("button"),W($.$$.fragment),this.h()},l(u){e=T(u,"DIV",{id:!0,class:!0});var v=S(e);s=T(v,"DIV",{id:!0,"aria-hidden":!0,class:!0});var P=S(s);t=T(P,"INPUT",{id:!0,spellcheck:!0,autocomplete:!0,autocapitalize:!0,maxlength:!0,pattern:!0,"aria-label":!0,"aria-hidden":!0,class:!0}),n=D(P),b&&b.l(P),P.forEach(h),c=D(v),p=T(v,"DIV",{id:!0,class:!0});var q=S(p);f=T(q,"BUTTON",{class:!0,"aria-label":!0});var m=S(f);A(a.$$.fragment,m),m.forEach(h),_=D(q),d=T(q,"BUTTON",{class:!0,"aria-label":!0});var R=S(d);A($.$$.fragment,R),R.forEach(h),q.forEach(h),v.forEach(h),this.h()},h(){g(t,"id","input-box"),g(t,"spellcheck","false"),g(t,"autocomplete","off"),g(t,"autocapitalize","off"),g(t,"maxlength","64"),g(t,"pattern",r=i[11][i[4]]),g(t,"aria-label",i[3]),g(t,"aria-hidden","false"),g(t,"class","svelte-lnziow"),g(s,"id","input-container"),g(s,"aria-hidden","false"),g(s,"class","svelte-lnziow"),M(s,"focused",i[7]),g(f,"class","settings-input-button svelte-lnziow"),g(f,"aria-label",l=i[10]("button.save")),f.disabled=o=i[6]==i[9][i[1]][i[0]]||!i[8],g(d,"class","settings-input-button svelte-lnziow"),g(d,"aria-label",N=i[10]("button.reset")),d.disabled=z=String(i[9][i[1]][i[0]]).length<=0,g(p,"id","settings-input-buttons"),g(p,"class","svelte-lnziow"),g(e,"id","settings-input-holder"),g(e,"class","svelte-lnziow")},m(u,v){E(u,e,v),w(e,s),w(s,t),i[15](t),Q(t,i[6]),w(s,n),b&&b.m(s,null),w(e,c),w(e,p),w(p,f),U(a,f,null),w(p,_),w(p,d),U($,d,null),k=!0,L||(O=[B(t,"input",i[16]),B(t,"input",i[17]),B(t,"input",i[18]),B(t,"focus",i[19]),B(t,"blur",i[20]),B(f,"click",i[13]),B(d,"click",i[21])],L=!0)},p(u,[v]){(!k||v&16&&r!==(r=u[11][u[4]]))&&g(t,"pattern",r),(!k||v&8)&&g(t,"aria-label",u[3]),v&64&&t.value!==u[6]&&Q(t,u[6]),u[6].length===0?b?b.p(u,v):(b=Z(u),b.c(),b.m(s,null)):b&&(b.d(1),b=null),(!k||v&128)&&M(s,"focused",u[7]),(!k||v&1024&&l!==(l=u[10]("button.save")))&&g(f,"aria-label",l),(!k||v&835&&o!==(o=u[6]==u[9][u[1]][u[0]]||!u[8]))&&(f.disabled=o),(!k||v&1024&&N!==(N=u[10]("button.reset")))&&g(d,"aria-label",N),(!k||v&515&&z!==(z=String(u[9][u[1]][u[0]]).length<=0))&&(d.disabled=z)},i(u){k||(I(a.$$.fragment,u),I($.$$.fragment,u),k=!0)},o(u){C(a.$$.fragment,u),C($.$$.fragment,u),k=!1},d(u){u&&h(e),i[15](null),b&&b.d(),K(a),K($),L=!1,ue(O)}}}function de(i,e,s){let t,r;F(i,j,m=>s(9,t=m)),F(i,le,m=>s(10,r=m));let{settingId:n}=e,{settingContext:c}=e,{placeholder:p}=e,{altText:f}=e,{type:a="url"}=e,{showInstanceWarning:l=!1}=e;const o={url:"https?:\\/\\/[a-z0-9.\\-]+(:\\d+)?/?",uuid:"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$"};let _,d=String(J(j)[c][n]),$=!1,N=!1;const z=(m,R)=>{fe({[c]:{[n]:R==="url"?new URL(m).origin.toString():m}}),s(6,d=String(J(j)[c][n]))},k=async()=>l?(await ge(),t.processing.seenCustomWarning&&d?z(d,a):void 0):z(d,a);function L(m){ce[m?"unshift":"push"](()=>{_=m,s(5,_)})}function O(){d=this.value,s(6,d)}const b=()=>s(8,N=_.checkValidity()),u=()=>s(7,$=!0),v=()=>s(7,$=!0),P=()=>s(7,$=!1),q=()=>z("","text");return i.$$set=m=>{"settingId"in m&&s(0,n=m.settingId),"settingContext"in m&&s(1,c=m.settingContext),"placeholder"in m&&s(2,p=m.placeholder),"altText"in m&&s(3,f=m.altText),"type"in m&&s(4,a=m.type),"showInstanceWarning"in m&&s(14,l=m.showInstanceWarning)},[n,c,p,f,a,_,d,$,N,t,r,o,z,k,l,L,O,b,u,v,P,q]}class oe extends se{constructor(e){super(),ne(this,e,de,_e,te,{settingId:0,settingContext:1,placeholder:2,altText:3,type:4,showInstanceWarning:14})}}function x(i){let e,s;return e=new oe({props:{settingContext:"processing",settingId:"customInstanceURL",placeholder:"https://instance.url.example/",showInstanceWarning:!0,altText:i[0]("settings.processing.custom_instance.input.alt_text")}}),{c(){W(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,r){U(e,t,r),s=!0},p(t,r){const n={};r&1&&(n.altText=t[0]("settings.processing.custom_instance.input.alt_text")),e.$set(n)},i(t){s||(I(e.$$.fragment,t),s=!0)},o(t){C(e.$$.fragment,t),s=!1},d(t){K(e,t)}}}function he(i){let e,s,t,r,n,c=i[0]("settings.processing.enable_custom.description")+"",p,f;s=new re({props:{settingContext:"processing",settingId:"enableCustomInstances",title:i[0]("settings.processing.enable_custom.title")}});let a=i[1].processing.enableCustomInstances&&x(i);return{c(){e=y("div"),W(s.$$.fragment),t=V(),a&&a.c(),r=V(),n=y("div"),p=X(c),this.h()},l(l){e=T(l,"DIV",{class:!0});var o=S(e);A(s.$$.fragment,o),t=D(o),a&&a.l(o),o.forEach(h),r=D(l),n=T(l,"DIV",{class:!0});var _=S(n);p=G(_,c),_.forEach(h),this.h()},h(){g(e,"class","category-inside-group svelte-1eu4d3h"),g(n,"class","subtext svelte-1eu4d3h")},m(l,o){E(l,e,o),U(s,e,null),w(e,t),a&&a.m(e,null),E(l,r,o),E(l,n,o),w(n,p),f=!0},p(l,o){const _={};o&1&&(_.title=l[0]("settings.processing.enable_custom.title")),s.$set(_),l[1].processing.enableCustomInstances?a?(a.p(l,o),o&2&&I(a,1)):(a=x(l),a.c(),I(a,1),a.m(e,null)):a&&(ie(),C(a,1,1,()=>{a=null}),ae()),(!f||o&1)&&c!==(c=l[0]("settings.processing.enable_custom.description")+"")&&H(p,c)},i(l){f||(I(s.$$.fragment,l),I(a),f=!0)},o(l){C(s.$$.fragment,l),C(a),f=!1},d(l){l&&(h(e),h(r),h(n)),K(s),a&&a.d()}}}function ee(i){let e,s;return e=new oe({props:{settingContext:"processing",settingId:"customApiKey",placeholder:"00000000-0000-0000-0000-000000000000",altText:i[0]("settings.processing.access_key.input.alt_text"),type:"uuid"}}),{c(){W(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,r){U(e,t,r),s=!0},p(t,r){const n={};r&1&&(n.altText=t[0]("settings.processing.access_key.input.alt_text")),e.$set(n)},i(t){s||(I(e.$$.fragment,t),s=!0)},o(t){C(e.$$.fragment,t),s=!1},d(t){K(e,t)}}}function be(i){let e,s,t,r,n,c=i[0]("settings.processing.access_key.description")+"",p,f;s=new re({props:{settingContext:"processing",settingId:"enableCustomApiKey",title:i[0]("settings.processing.access_key.title")}});let a=i[1].processing.enableCustomApiKey&&ee(i);return{c(){e=y("div"),W(s.$$.fragment),t=V(),a&&a.c(),r=V(),n=y("div"),p=X(c),this.h()},l(l){e=T(l,"DIV",{class:!0});var o=S(e);A(s.$$.fragment,o),t=D(o),a&&a.l(o),o.forEach(h),r=D(l),n=T(l,"DIV",{class:!0});var _=S(n);p=G(_,c),_.forEach(h),this.h()},h(){g(e,"class","category-inside-group svelte-1eu4d3h"),g(n,"class","subtext svelte-1eu4d3h")},m(l,o){E(l,e,o),U(s,e,null),w(e,t),a&&a.m(e,null),E(l,r,o),E(l,n,o),w(n,p),f=!0},p(l,o){const _={};o&1&&(_.title=l[0]("settings.processing.access_key.title")),s.$set(_),l[1].processing.enableCustomApiKey?a?(a.p(l,o),o&2&&I(a,1)):(a=ee(l),a.c(),I(a,1),a.m(e,null)):a&&(ie(),C(a,1,1,()=>{a=null}),ae()),(!f||o&1)&&c!==(c=l[0]("settings.processing.access_key.description")+"")&&H(p,c)},i(l){f||(I(s.$$.fragment,l),I(a),f=!0)},o(l){C(s.$$.fragment,l),C(a),f=!1},d(l){l&&(h(e),h(r),h(n)),K(s),a&&a.d()}}}function ve(i){let e,s,t,r;return e=new Y({props:{sectionId:"community",title:i[0]("settings.processing.community"),$$slots:{default:[he]},$$scope:{ctx:i}}}),t=new Y({props:{sectionId:"access-key",title:i[0]("settings.processing.access_key"),$$slots:{default:[be]},$$scope:{ctx:i}}}),{c(){W(e.$$.fragment),s=V(),W(t.$$.fragment)},l(n){A(e.$$.fragment,n),s=D(n),A(t.$$.fragment,n)},m(n,c){U(e,n,c),E(n,s,c),U(t,n,c),r=!0},p(n,[c]){const p={};c&1&&(p.title=n[0]("settings.processing.community")),c&7&&(p.$$scope={dirty:c,ctx:n}),e.$set(p);const f={};c&1&&(f.title=n[0]("settings.processing.access_key")),c&7&&(f.$$scope={dirty:c,ctx:n}),t.$set(f)},i(n){r||(I(e.$$.fragment,n),I(t.$$.fragment,n),r=!0)},o(n){C(e.$$.fragment,n),C(t.$$.fragment,n),r=!1},d(n){n&&h(s),K(e,n),K(t,n)}}}function Ie(i,e,s){let t,r;return F(i,le,n=>s(0,t=n)),F(i,j,n=>s(1,r=n)),[t,r]}class Ee extends se{constructor(e){super(),ne(this,e,Ie,ve,te,{})}}export{Ee as component};
