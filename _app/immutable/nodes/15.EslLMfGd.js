import{s as ue,c as Y}from"../chunks/scheduler.y4uHs2UB.js";import{S as $e,i as me,e as b,c as k,s as C,u as O,f as w,g as D,a as S,h as $,n as E,v as W,x as ie,j as v,k as V,y as m,m as x,w as X,t as d,b as _,d as y,o as J,p as ge,q as de,r as pe}from"../chunks/index.Cysm1UDV.js";import{e as K}from"../chunks/Icon.NybfZExb.js";import{t as ve}from"../chunks/translations.C2mFf6Kf.js";import{filenameStyleOptions as ae,savingMethodOptions as le}from"../chunks/settings.H-Agf-dr.js";import{S as U,a as be}from"../chunks/SettingsCategory.Cts77fhB.js";import{S as _e,a as he}from"../chunks/SettingsButton.Cu9uZFbP.js";import{s as we}from"../chunks/settings.RqfMgPN1.js";import{M as Ie}from"../chunks/movie.l83OpFi5.js";import{M as Ve}from"../chunks/music.CPQQ8o3a.js";function De(o){let s,i,t,e,r,a,n,l=`${o[0]}.${o[3]}`,f,c,u,h="video file preview",Q,g,T,M,B,I,P,q=`${o[1]}.${o[2]}`,R,L,F,Z="audio file preview",N;return e=new Ie({}),M=new Ve({}),{c(){s=b("div"),i=b("div"),t=b("div"),k(e.$$.fragment),r=C(),a=b("div"),n=b("div"),f=O(l),c=C(),u=b("div"),u.textContent=h,Q=C(),g=b("div"),T=b("div"),k(M.$$.fragment),B=C(),I=b("div"),P=b("div"),R=O(q),L=C(),F=b("div"),F.textContent=Z,this.h()},l(p){s=w(p,"DIV",{id:!0,class:!0});var j=D(s);i=w(j,"DIV",{id:!0,class:!0});var z=D(i);t=w(z,"DIV",{class:!0});var ee=D(t);S(e.$$.fragment,ee),ee.forEach($),r=E(z),a=w(z,"DIV",{class:!0});var A=D(a);n=w(A,"DIV",{class:!0});var te=D(n);f=W(te,l),te.forEach($),c=E(A),u=w(A,"DIV",{class:!0,"data-svelte-h":!0}),ie(u)!=="svelte-19u7g2x"&&(u.textContent=h),A.forEach($),z.forEach($),Q=E(j),g=w(j,"DIV",{id:!0,class:!0});var G=D(g);T=w(G,"DIV",{class:!0});var se=D(T);S(M.$$.fragment,se),se.forEach($),B=E(G),I=w(G,"DIV",{class:!0});var H=D(I);P=w(H,"DIV",{class:!0});var ne=D(P);R=W(ne,q),ne.forEach($),L=E(H),F=w(H,"DIV",{class:!0,"data-svelte-h":!0}),ie(F)!=="svelte-no3r2s"&&(F.textContent=Z),H.forEach($),G.forEach($),j.forEach($),this.h()},h(){v(t,"class","item-icon svelte-1bco4t0"),v(n,"class","preview svelte-1bco4t0"),v(u,"class","subtext description svelte-1bco4t0"),v(a,"class","item-text svelte-1bco4t0"),v(i,"id","filename-preview-video"),v(i,"class","filename-preview-item svelte-1bco4t0"),v(T,"class","item-icon svelte-1bco4t0"),v(P,"class","preview svelte-1bco4t0"),v(F,"class","subtext description svelte-1bco4t0"),v(I,"class","item-text svelte-1bco4t0"),v(g,"id","filename-preview-audio"),v(g,"class","filename-preview-item svelte-1bco4t0"),v(s,"id","filename-preview"),v(s,"class","svelte-1bco4t0")},m(p,j){V(p,s,j),m(s,i),m(i,t),x(e,t,null),m(i,r),m(i,a),m(a,n),m(n,f),m(a,c),m(a,u),m(s,Q),m(s,g),m(g,T),x(M,T,null),m(g,B),m(g,I),m(I,P),m(P,R),m(I,L),m(I,F),N=!0},p(p,[j]){(!N||j&1)&&l!==(l=`${p[0]}.${p[3]}`)&&X(f,l),(!N||j&6)&&q!==(q=`${p[1]}.${p[2]}`)&&X(R,q)},i(p){N||(d(e.$$.fragment,p),d(M.$$.fragment,p),N=!0)},o(p){_(e.$$.fragment,p),_(M.$$.fragment,p),N=!1},d(p){p&&$(s),y(e),y(M)}}}function Ce(o,s,i){let t,e;Y(o,we,I=>i(4,t=I)),Y(o,ve,I=>i(6,e=I));let r,a;const n=e("settings.metadata.filename.preview.video"),l=e("settings.metadata.filename.preview.audio"),f=["youtube","dQw4w9WgXcQ"],c={2160:"3840x2160",1440:"2560x1440",1080:"1920x1080",720:"1280x720",480:"854x480",360:"640x360",240:"426x240",144:"256x144"};let{downloadMode:u,youtubeVideoCodec:h,audioFormat:Q,videoQuality:g}=t.save,T=h==="vp9"?"webm":"mp4";Q=Q!=="best"?Q:"opus",g=g!=="max"?g:"2160",h==="h264"&&Number(g)>1080&&(g="1080");let M=f.concat([c[g],h]),B=[`${g}p`,h];return u==="mute"&&(M.push("mute"),B.push("mute")),o.$$.update=()=>{if(o.$$.dirty&16)switch(t.save.filenameStyle){case"classic":i(0,r=M.join("_")),i(1,a="youtube_dQw4w9WgXcQ_audio");break;case"basic":i(0,r=`${n} (${B.join(", ")})`),i(1,a=l);break;case"pretty":i(0,r=`${n} (${[...B,f[0]].join(", ")})`),i(1,a=`${l} (${f[0]})`);break;case"nerdy":i(0,r=`${n} (${B.concat(f).join(", ")})`),i(1,a=`${l} (${f.join(", ")})`);break}},[r,a,Q,T,t]}class Ee extends $e{constructor(s){super(),me(this,s,Ce,De,ue,{})}}function re(o,s,i){const t=o.slice();return t[1]=s[i],t}function oe(o,s,i){const t=o.slice();return t[1]=s[i],t}function ke(o){let s=o[0](`settings.metadata.filename.${o[1]}`)+"",i,t;return{c(){i=O(s),t=C()},l(e){i=W(e,s),t=E(e)},m(e,r){V(e,i,r),V(e,t,r)},p(e,r){r&1&&s!==(s=e[0](`settings.metadata.filename.${e[1]}`)+"")&&X(i,s)},d(e){e&&($(i),$(t))}}}function ce(o){let s,i;return s=new he({props:{settingContext:"save",settingId:"filenameStyle",settingValue:o[1],$$slots:{default:[ke]},$$scope:{ctx:o}}}),{c(){k(s.$$.fragment)},l(t){S(s.$$.fragment,t)},m(t,e){x(s,t,e),i=!0},p(t,e){const r={};e&65&&(r.$$scope={dirty:e,ctx:t}),s.$set(r)},i(t){i||(d(s.$$.fragment,t),i=!0)},o(t){_(s.$$.fragment,t),i=!1},d(t){y(s,t)}}}function Se(o){let s,i,t=K(ae),e=[];for(let a=0;a<t.length;a+=1)e[a]=ce(oe(o,t,a));const r=a=>_(e[a],1,1,()=>{e[a]=null});return{c(){for(let a=0;a<e.length;a+=1)e[a].c();s=J()},l(a){for(let n=0;n<e.length;n+=1)e[n].l(a);s=J()},m(a,n){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(a,n);V(a,s,n),i=!0},p(a,n){if(n&1){t=K(ae);let l;for(l=0;l<t.length;l+=1){const f=oe(a,t,l);e[l]?(e[l].p(f,n),d(e[l],1)):(e[l]=ce(f),e[l].c(),d(e[l],1),e[l].m(s.parentNode,s))}for(ge(),l=t.length;l<e.length;l+=1)r(l);de()}},i(a){if(!i){for(let n=0;n<t.length;n+=1)d(e[n]);i=!0}},o(a){e=e.filter(Boolean);for(let n=0;n<e.length;n+=1)_(e[n]);i=!1},d(a){a&&$(s),pe(e,a)}}}function xe(o){let s,i,t,e,r,a,n=o[0]("settings.metadata.filename.description")+"",l,f;return i=new _e({props:{big:!0,$$slots:{default:[Se]},$$scope:{ctx:o}}}),e=new Ee({}),{c(){s=b("div"),k(i.$$.fragment),t=C(),k(e.$$.fragment),r=C(),a=b("div"),l=O(n),this.h()},l(c){s=w(c,"DIV",{class:!0});var u=D(s);S(i.$$.fragment,u),t=E(u),S(e.$$.fragment,u),u.forEach($),r=E(c),a=w(c,"DIV",{class:!0});var h=D(a);l=W(h,n),h.forEach($),this.h()},h(){v(s,"class","category-inside-group svelte-1eu4d3h"),v(a,"class","subtext svelte-1eu4d3h")},m(c,u){V(c,s,u),x(i,s,null),m(s,t),x(e,s,null),V(c,r,u),V(c,a,u),m(a,l),f=!0},p(c,u){const h={};u&65&&(h.$$scope={dirty:u,ctx:c}),i.$set(h),(!f||u&1)&&n!==(n=c[0]("settings.metadata.filename.description")+"")&&X(l,n)},i(c){f||(d(i.$$.fragment,c),d(e.$$.fragment,c),f=!0)},o(c){_(i.$$.fragment,c),_(e.$$.fragment,c),f=!1},d(c){c&&($(s),$(r),$(a)),y(i),y(e)}}}function ye(o){let s=o[0](`settings.saving.${o[1]}`)+"",i,t;return{c(){i=O(s),t=C()},l(e){i=W(e,s),t=E(e)},m(e,r){V(e,i,r),V(e,t,r)},p(e,r){r&1&&s!==(s=e[0](`settings.saving.${e[1]}`)+"")&&X(i,s)},d(e){e&&($(i),$(t))}}}function fe(o){let s,i;return s=new he({props:{settingContext:"save",settingId:"savingMethod",settingValue:o[1],$$slots:{default:[ye]},$$scope:{ctx:o}}}),{c(){k(s.$$.fragment)},l(t){S(s.$$.fragment,t)},m(t,e){x(s,t,e),i=!0},p(t,e){const r={};e&65&&(r.$$scope={dirty:e,ctx:t}),s.$set(r)},i(t){i||(d(s.$$.fragment,t),i=!0)},o(t){_(s.$$.fragment,t),i=!1},d(t){y(s,t)}}}function Me(o){let s,i,t=K(le),e=[];for(let a=0;a<t.length;a+=1)e[a]=fe(re(o,t,a));const r=a=>_(e[a],1,1,()=>{e[a]=null});return{c(){for(let a=0;a<e.length;a+=1)e[a].c();s=J()},l(a){for(let n=0;n<e.length;n+=1)e[n].l(a);s=J()},m(a,n){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(a,n);V(a,s,n),i=!0},p(a,n){if(n&1){t=K(le);let l;for(l=0;l<t.length;l+=1){const f=re(a,t,l);e[l]?(e[l].p(f,n),d(e[l],1)):(e[l]=fe(f),e[l].c(),d(e[l],1),e[l].m(s.parentNode,s))}for(ge(),l=t.length;l<e.length;l+=1)r(l);de()}},i(a){if(!i){for(let n=0;n<t.length;n+=1)d(e[n]);i=!0}},o(a){e=e.filter(Boolean);for(let n=0;n<e.length;n+=1)_(e[n]);i=!1},d(a){a&&$(s),pe(e,a)}}}function je(o){let s,i;return s=new _e({props:{big:!0,description:o[0]("settings.saving.description"),$$slots:{default:[Me]},$$scope:{ctx:o}}}),{c(){k(s.$$.fragment)},l(t){S(s.$$.fragment,t)},m(t,e){x(s,t,e),i=!0},p(t,e){const r={};e&1&&(r.description=t[0]("settings.saving.description")),e&65&&(r.$$scope={dirty:e,ctx:t}),s.$set(r)},i(t){i||(d(s.$$.fragment,t),i=!0)},o(t){_(s.$$.fragment,t),i=!1},d(t){y(s,t)}}}function Qe(o){let s,i;return s=new be({props:{settingContext:"save",settingId:"disableMetadata",title:o[0]("settings.metadata.disable.title"),description:o[0]("settings.metadata.disable.description")}}),{c(){k(s.$$.fragment)},l(t){S(s.$$.fragment,t)},m(t,e){x(s,t,e),i=!0},p(t,e){const r={};e&1&&(r.title=t[0]("settings.metadata.disable.title")),e&1&&(r.description=t[0]("settings.metadata.disable.description")),s.$set(r)},i(t){i||(d(s.$$.fragment,t),i=!0)},o(t){_(s.$$.fragment,t),i=!1},d(t){y(s,t)}}}function Te(o){let s,i,t,e,r,a;return s=new U({props:{sectionId:"filename",title:o[0]("settings.metadata.filename"),$$slots:{default:[xe]},$$scope:{ctx:o}}}),t=new U({props:{sectionId:"saving",title:o[0]("settings.saving.title"),$$slots:{default:[je]},$$scope:{ctx:o}}}),r=new U({props:{sectionId:"metadata",title:o[0]("settings.metadata.file"),$$slots:{default:[Qe]},$$scope:{ctx:o}}}),{c(){k(s.$$.fragment),i=C(),k(t.$$.fragment),e=C(),k(r.$$.fragment)},l(n){S(s.$$.fragment,n),i=E(n),S(t.$$.fragment,n),e=E(n),S(r.$$.fragment,n)},m(n,l){x(s,n,l),V(n,i,l),x(t,n,l),V(n,e,l),x(r,n,l),a=!0},p(n,[l]){const f={};l&1&&(f.title=n[0]("settings.metadata.filename")),l&65&&(f.$$scope={dirty:l,ctx:n}),s.$set(f);const c={};l&1&&(c.title=n[0]("settings.saving.title")),l&65&&(c.$$scope={dirty:l,ctx:n}),t.$set(c);const u={};l&1&&(u.title=n[0]("settings.metadata.file")),l&65&&(u.$$scope={dirty:l,ctx:n}),r.$set(u)},i(n){a||(d(s.$$.fragment,n),d(t.$$.fragment,n),d(r.$$.fragment,n),a=!0)},o(n){_(s.$$.fragment,n),_(t.$$.fragment,n),_(r.$$.fragment,n),a=!1},d(n){n&&($(i),$(e)),y(s,n),y(t,n),y(r,n)}}}function Be(o,s,i){let t;return Y(o,ve,e=>i(0,t=e)),[t]}class Ge extends $e{constructor(s){super(),me(this,s,Be,Te,ue,{})}}export{Ge as component};
