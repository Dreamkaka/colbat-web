import{h as n}from"./scheduler.y4uHs2UB.js";import{currentApiURL as i}from"./api-url.CNe_fggu.js";import{c as a,t as u,a as c,b as d}from"./turnstile.ehXC8yNq.js";const f=async()=>{const t=`${i()}/`;return await fetch(t,{redirect:"manual",signal:AbortSignal.timeout(1e4)}).then(r=>r.json()).catch(r=>{var o;if((o=r==null?void 0:r.message)!=null&&o.includes("timed out"))return{status:"error",error:{code:"error.api.timed_out"}}})},l=()=>{!n(u)&&n(c)&&!n(d)&&window.location.reload()},g=async()=>{var r,o,s;const t=n(a);if(t&&t.origin===i())return l(),!0;const e=await f();return!e||!("cobalt"in e)||"status"in e?!1:(a.set({info:e,origin:i()}),n(u)&&t&&((o=(r=t==null?void 0:t.info)==null?void 0:r.cobalt)==null?void 0:o.turnstileSitekey)!==((s=e==null?void 0:e.cobalt)==null?void 0:s.turnstileSitekey)&&window.location.reload(),l(),!0)};export{g as getServerInfo};
